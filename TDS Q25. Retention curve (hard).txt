# Practice Link
https://towardsdatascience.com/twenty-five-sql-practice-exercises-5fc791e24082

25. Retention curve (hard)
From the following user activity table, write a query to return the fraction of 
users who are retained (show some activity) a given number of days after joining. 
By convention, users are considered active on their join day (day 0)

--------- Updated 4/1-------

Select datediff(new_date,action_date), count(distinct user_id) n_total, count(action) as n_active, count(action)/count(distinct user_id) as retention
From
(
Select generate_series (min(action_date), max(action_date), ‘1 day’::interval) as new_date
From users
Full outer join
Select distinct user_id from users) t
Left join
Users
On t.user_id =users.user_id
)
Group by 1
Where datediff(new_date,action_date) >0

